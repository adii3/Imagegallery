(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/empty-search.0f7fe590.svg"},21:function(e,t,a){e.exports=a(34)},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),s=a.n(c),o=a(9),i=a(1),u=a(16),m=a(20),l={searchTerm:"",images:[],pages:[]},g=Object(i.c)({gallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGES_SEARCH":var a=t.payload,r=a.searchTerm,n=a.images,c=void 0===n?[]:n,s=a.page,o=void 0===s?1:s;if(r!==e.searchTerm)return Object.assign({},e,{searchTerm:r,images:c,pages:[o]});if(r===e.searchTerm&&!e.pages.includes(o)){var i=[].concat(Object(m.a)(e.pages),[o]),u=e.images.concat(c);return Object.assign({},e,{images:u,pages:i})}return e;case"IMAGES_SEARCH_FAILED":default:return e}}}),p=a(5),h=a(6),f=a(10),v=a(7),d=a(11),b=(a(29),a(17)),E=a(18),y=a.n(E),w=a(3),S=a.n(w),O=a(8),j="",_=function(e,t,a){return"".concat("https://api.flickr.com/services/rest/").concat("?method=flickr.photos.search&safe_search=1&format=json&nojsoncallback=1&content_type=1&is_getty=1","&api_key=").concat("b2d28a3be2a0459201527f21f79cb792","&text=").concat(e,"&page=").concat(t,"&per_page=").concat(a)},I=function(e,t,a,r){return"https://farm".concat(e,".staticflickr.com/").concat(t,"/").concat(a,"_").concat(r,".jpg")},k=function(){var e=Object(O.a)(S.a.mark(function e(t){var a,r,n,c,s=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"",r=s.length>2&&void 0!==s[2]?s[2]:j,e.prev=2,e.next=5,fetch(_(t,a,r));case 5:return n=e.sent,e.next=8,n.json();case 8:return(c=e.sent).photos.photo.forEach(function(e){var t=e.farm,a=e.server,r=e.id,n=e.secret;e.url=I(t,a,r,n)}),e.abrupt("return",c.photos);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",{error:e.t0.message});case 16:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),x=function(e,t,a){return{type:"IMAGES_SEARCH",payload:{searchTerm:e,images:t,page:a,timestamp:Date.now()}}},N=function(e){return{type:"IMAGES_SEARCH_FAILED",payload:{error:e,timestamp:Date.now()}}},T=a(19),C=a.n(T);function A(){return n.a.createElement("div",{className:"no-images"},n.a.createElement("img",{className:"no-images-drawing",src:C.a,alt:""}),n.a.createElement("div",{className:"no-images-text"},"No Images to show.. Search something"))}function D(e){var t=e.imageSource,a=e.onCloseIvClicked;return n.a.createElement("div",{className:"image-viewer",onClick:a},n.a.createElement("img",{className:"image-viewer-content",src:t,alt:""}))}var P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={searchTerm:"",perPage:j,showDialog:!1,imageSource:""},a.getNextPageNumber=function(){var e=a.props.images,t=a.state.perPage;return e.length/t+1},a.hasMore=function(){var e=a.props.images,t=a.state.perPage;return e.length>0&&e.length%t===0},a.closeImageViewer=function(){a.setState({imageSource:"",showDialog:!1})},a.handleSearch=Object(b.debounce)(function(e){e&&(a.props.seacrhImagesbyText(e),a.setState({searchTerm:e}))},300),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"renderImages",value:function(){var e=this;return this.props.images.map(function(t){var a=t.url,r=t.farm,c=t.server,s=t.id;return n.a.createElement("img",{className:"image three-d-hover",src:a,key:"".concat(r).concat(c).concat(s),alt:"",onClick:function(t){return e.setState({showDialog:!0,imageSource:a})}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.images,r=t.seacrhImagesbyText,c=this.state,s=c.searchTerm,o=c.perPage,i=c.showDialog,u=c.imageSource;return n.a.createElement("div",null,n.a.createElement("div",{className:"header"},n.a.createElement("input",{className:"search-bar",type:"text",name:"query",placeholder:"Search Photos",onChange:function(t){return e.handleSearch(t.target.value)}})),i&&n.a.createElement(D,{imageSource:u,onCloseIvClicked:this.closeImageViewer}),0===a.length&&n.a.createElement(A,null),n.a.createElement(y.a,{className:"images-container",dataLength:a.length,hasMore:this.hasMore(),next:function(){r(s,e.getNextPageNumber(),o)}},this.renderImages()))}}]),t}(r.Component);P.defaultProps={images:[],seacrhImagesbyText:function(){}};var M={seacrhImagesbyText:function(e,t,a){return function(e,t,a){return function(){var r=Object(O.a)(S.a.mark(function r(n){var c;return S.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k(e,t,a);case 2:(c=r.sent).photo?n(x(e,c.photo,t)):n(N(c.error));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}(e,t,a)}},R=Object(o.b)(function(e){return{images:e.gallery.images}},M)(P),G=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(R,null))}}]),t}(r.Component),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,L=[u.a],V=Object(i.e)(g,{},H(i.a.apply(void 0,L)));s.a.render(n.a.createElement(o.a,{store:V},n.a.createElement(G,null)),document.querySelector("#root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6e656c46.chunk.js.map